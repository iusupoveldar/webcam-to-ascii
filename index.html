<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Webcam to ASCII</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="crt-overlay"></div>
  <div class="scanline"></div>

  <div class="layout">
    <aside class="sidebar">
      <h2 class="glitch" data-text="WebCam To ASCII">WebCam To ASCII</h2>
      <section class="control-group">
        <h3>System Status</h3>
        <div class="control">
          <label for="theme">Display Mode:</label>
          <select id="theme">
            <option value="dark" selected>Phosphor Green</option>
            <option value="amber">Phosphor Amber</option>
            <option value="light">Paper Mode</option>
          </select>
        </div>
        <div class="control">
          <button id="galleryBtn" class="retro-btn">OPEN MEMORY BANK</button>
        </div>
      </section>

      <section class="control-group">
        <h3>Input Source</h3>
        <div class="control video-container">
          <video id="webcam" autoplay playsinline muted></video>
        </div>
      </section>

      <section class="control-group">
        <h3>Signal Tuning</h3>
        <div class="control">
          <label for="asciiWidth">Resolution (Width):</label>
          <input type="range" id="asciiWidth" min="20" max="300" value="150">
          <span class="value-label" id="asciiWidthVal">150</span>
        </div>
        <div class="control">
          <label for="brightness">Signal Gain (Bright):</label>
          <input type="range" id="brightness" min="-100" max="100" value="0">
          <span class="value-label" id="brightnessVal">0</span>
        </div>
        <div class="control">
          <label for="contrast">Signal Contrast:</label>
          <input type="range" id="contrast" min="-100" max="100" value="0">
          <span class="value-label" id="contrastVal">0</span>
        </div>
        <div class="control">
          <label for="blur">Noise Reduction (Blur):</label>
          <input type="range" id="blur" min="0" max="10" step="0.01" value="0">
          <span class="value-label" id="blurVal">0</span>
        </div>
        <div class="control">
          <label for="invert">Invert Signal:</label>
          <input type="checkbox" id="invert">
        </div>
        <div class="control">
          <label for="ignoreWhite">Ignore Blank Signal:</label>
          <input type="checkbox" id="ignoreWhite" checked>
        </div>
      </section>

      <section class="control-group">
        <h3>Dither Matrix</h3>
        <div class="control">
          <label for="dithering">Enable Dithering:</label>
          <input type="checkbox" id="dithering" checked>
        </div>
        <div class="control">
          <label for="ditherAlgorithm">Algorithm:</label>
          <select id="ditherAlgorithm">
            <option value="floyd" selected>Floydâ€“Steinberg</option>
            <option value="atkinson">Atkinson</option>
            <option value="noise">Noise Injection</option>
            <option value="ordered">Ordered Matrix</option>
          </select>
        </div>
      </section>

      <section class="control-group">
        <h3>Character Set</h3>
        <div class="control">
          <label for="charset">Select Set:</label>
          <select id="charset">
            <option value="detailed" selected>High Detail</option>
            <option value="standard">Standard</option>
            <option value="blocks">Block Elements</option>
            <option value="binary">Binary Stream</option>
            <option value="hex">Hex Dump</option>
            <option value="matrix">Matrix Rain</option>
            <option value="glitch">Glitch Noise</option>
            <option value="manual">Manual Input</option>
          </select>
        </div>
        <div class="control" id="manualCharControl" style="display: none;">
          <label for="manualCharInput">Manual Character:</label>
          <input type="text" id="manualCharInput" value="0">
        </div>
      </section>

      <section class="control-group">
        <h3>Edge Detection</h3>
        <div class="control">
          <input type="radio" name="edgeMethod" id="edgeNone" value="none" checked>
          <label for="edgeNone">None</label>
        </div>
        <div class="control">
          <input type="radio" name="edgeMethod" id="edgeSobel" value="sobel">
          <label for="edgeSobel">Sobel Operator</label>
        </div>
        <div class="control">
          <input type="radio" name="edgeMethod" id="edgeDoG" value="dog">
          <label for="edgeDoG">DoG Contour</label>
        </div>
        <div class="control" id="sobelThresholdControl" style="display: none;">
          <label for="edgeThreshold">Threshold:</label>
          <input type="range" id="edgeThreshold" min="0" max="255" value="100">
          <span class="value-label" id="edgeThresholdVal">100</span>
        </div>
        <div class="control" id="dogThresholdControl" style="display: none;">
          <label for="dogEdgeThreshold">Threshold:</label>
          <input type="range" id="dogEdgeThreshold" min="0" max="255" value="100">
          <span class="value-label" id="dogEdgeThresholdVal">100</span>
        </div>
      </section>

      <section class="control-group">
        <h3>Output Control</h3>
        <div class="control">
          <label for="zoom">Zoom (%):</label>
          <input type="range" id="zoom" min="20" max="600" value="100">
          <span class="value-label" id="zoomVal">100</span>
        </div>
        <div class="control">
          <label for="colorMode">Color Mode:</label>
          <select id="colorMode">
            <option value="mono" selected>Monochrome</option>
            <option value="true">True Color</option>
            <option value="rainbow">Rainbow</option>
          </select>
        </div>
      </section>

      <section class="control-group">
        <div class="control">
          <button id="snapBtn" class="retro-btn">SNAP FRAME</button>
          <button id="reset" class="retro-btn warning">SYSTEM RESET</button>
        </div>
      </section>
    </aside>

    <main class="main-content">
      <div class="terminal-header">
        <span class="terminal-title">TERMINAL_OUTPUT_V1.0</span>
        <span class="terminal-status">ONLINE</span>
      </div>
      <canvas id="ascii-canvas"></canvas>
    </main>
  </div>

  <!-- Gallery -->
  <div id="galleryModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>MEMORY BANK</h2>
        <span class="close-modal">&times;</span>
      </div>
      <div class="gallery-grid" id="galleryGrid">
        <!-- Snaps -->
      </div>
    </div>
  </div>

  <!-- Hidden canvas -->
  <canvas id="canvas" style="display: none;"></canvas>
  <script src="main.js"></script>
</body>

</html>